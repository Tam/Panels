{"version":3,"sources":["panels.js"],"names":["window","Helpers","mergeObject","a","b","attrname","c","hasOwnProperty","Panels","opts","this","options","_defaults","router","Grapnel","Panel","prototype","app","debug","console","log","type","args","Array","slice","call","arguments","shift","concat","apply","version","Vue","e","baseEl","document","body","preload","v","logic","_verifyOpts","_storeTemplate","parentEl","route","template","templateUrl","append","appendChild","templateLogic","tag","o","valid","HTMLElement","req","XMLHttpRequest","self","open","onload","status","createElement","innerHTML","responseText","send","onOpen","parent","getElementsByTagName","onClose","close"],"mappings":"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","file":"panels.min.js","sourcesContent":["(function (window) {\n\n\t/**\n\t * Helpers\n\t */\n\tvar Helpers = {\n\t\tmergeObject: function (a, b) {\n\t\t\tvar c = {}, attrname;\n\t\t\tfor (attrname in a) {\n\t\t\t\tif (a.hasOwnProperty(attrname))\n\t\t\t\t\tc[attrname] = a[attrname];\n\t\t\t}\n\t\t\tfor (attrname in b) {\n\t\t\t\tif (b.hasOwnProperty(attrname))\n\t\t\t\t\tc[attrname] = b[attrname];\n\t\t\t}\n\t\t\treturn c;\n\t\t}\n\t};\n\n\t/**\n\t * Panels\n\t *\n\t * @param {object} opts - Options Object\n\t * @constructor\n\t */\n\tvar Panels = function (opts) {\n\t\t// Options\n\t\tthis.options = Helpers.mergeObject(Panels._defaults, opts);\n\n\t\t// Router\n\t\tthis.router = new Grapnel();\n\n\t\t// Pass self to Panel\n\t\tthis.Panel.prototype.app = this;\n\n\t\tif (this.options.debug && window.console) {\n\t\t\tthis.log = function (type) {\n\t\t\t\tvar args = [\"%cPanels:%c\", \"font-weight:bold;\", \"font-weight:normal;\"],\n\t\t\t\t\ta = Array.prototype.slice.call(arguments);\n\t\t\t\ta.shift();\n\t\t\t\targs = args.concat(a);\n\t\t\t\tconsole[type].apply(console, args);\n\t\t\t};\n\n\t\t\ttry {\n\t\t\t\tconsole.log.apply(console, [\n\t\t\t\t\t\"%c %c %c %c  Panels %c| v\" + Panels.version + \"  %c %c %c\" +\n\t\t\t\t\t\"\\n%c Vue:     %c\" + (typeof window.Vue !== \"undefined\") +\n\t\t\t\t\t\"\\n%c Grapnel: %c\" + (typeof window.Grapnel !== \"undefined\"),\n\n\t\t\t\t\t\"background:rgba(180,214,65,0.3);padding-top:2px;padding-bottom:2px;\",\n\t\t\t\t\t\"background:rgba(180,214,65,0.6);padding-top:2px;padding-bottom:2px;\",\n\t\t\t\t\t\"background:rgba(180,214,65,0.8);padding-top:2px;padding-bottom:2px;\",\n\t\t\t\t\t\"color:#ffffff;background:rgba(180,214,65,1);font-weight:bold;padding-top:2px;padding-bottom:2px;\",\n\t\t\t\t\t\"color:#ffffff;background:rgba(180,214,65,1);padding-top:2px;padding-bottom:2px;\",\n\t\t\t\t\t\"background:rgba(180,214,65,0.8);padding-top:2px;padding-bottom:2px;\",\n\t\t\t\t\t\"background:rgba(180,214,65,0.6);padding-top:2px;padding-bottom:2px;\",\n\t\t\t\t\t\"background:rgba(180,214,65,0.3);padding-top:2px;padding-bottom:2px;\",\n\n\t\t\t\t\t\"color:#ccc;line-height:2em;\",\n\t\t\t\t\t\"color:\" + (typeof window.Vue === \"undefined\" ? \"red\" : \"orange\") + \";font-weight:bold;\",\n\n\t\t\t\t\t\"color:#ccc;\",\n\t\t\t\t\t\"color:\" + (typeof window.Grapnel === \"undefined\" ? \"red\" : \"orange\") + \";font-weight:bold;\"\n\t\t\t\t]);\n\t\t\t} catch (e) {}\n\t\t} else {\n\t\t\tthis.log = function () {};\n\t\t}\n\t};\n\n\t// Version\n\tPanels.version = '0.0.1';\n\n\t// Default Options\n\tPanels._defaults = {\n\t\tdebug: false,\n\t\tbaseEl: document.body,\n\t\tpreload: false\n\t};\n\n\n\t/**\n\t * Panel\n\t *\n\t * @param {object} opts  - Options\n\t * @param {object} v     - Vue Options\n\t * @param {object} logic - Panel Logic\n\t * @constructor\n\t */\n\tvar Panel = function (opts, v, logic) {\n\t\tthis.options = Helpers.mergeObject(Panel._defaults, opts);\n\n\t\tif (this._verifyOpts()) {\n\t\t\t// Template\n\t\t\tif (this.app.options.preload)\n\t\t\t\tthis._storeTemplate();\n\n\t\t\t// Route\n\t\t\t// TODO: Add route to Panels\n\n\t\t\t// Vue\n\t\t\tthis.v = new Vue(v);\n\n\t\t\t// Logic\n\t\t\tthis.logic = logic;\n\t\t}\n\t};\n\n\t// Default Options\n\tPanel._defaults = {\n\t\tparentEl: null,\n\t\troute: null,\n\t\ttemplate: null,\n\t\ttemplateUrl: null,\n\t\tappend: false,\n\t\tappendChild: false,\n\t\ttemplateLogic: false,\n\t\ttag: 'div'\n\t};\n\n\t/**\n\t * Verify the settings\n\t *\n\t * @returns {boolean}\n\t * @private\n\t */\n\tPanel.prototype._verifyOpts = function () {\n\t\tvar o = this.options,\n\t\t\tvalid = true;\n\n\t\t// Template\n\t\tif (o.template === null && o.templateUrl === null) {\n\t\t\tvalid = false;\n\t\t\tthis.app.log('error', 'You must define a Template or TemplateUrl');\n\t\t}\n\n\t\tif (o.template !== null && (!(o.template instanceof HTMLElement) || typeof o.template !== \"string\")) {\n\t\t\tvalid = false;\n\t\t\tthis.app.log('error', 'Template set to unknown type', '\"' + typeof o.template + '\"');\n\t\t}\n\n\t\tif (o.templateUrl !== null && typeof o.templateUrl !== \"string\") {\n\t\t\tvalid = false;\n\t\t\tthis.app.log('error', 'TemplateUrl set to unknown type', '\"' + typeof o.templateUrl + '\"');\n\t\t}\n\n\t\t// TODO: Finish\n\n\t\treturn valid;\n\t};\n\n\t/**\n\t * Store the template\n\t */\n\tPanel.prototype._storeTemplate = function () {\n\t\tif (this.options.templateUrl !== null) {\n\t\t\tvar req = new XMLHttpRequest(),\n\t\t\t\tself = this;\n\t\t\treq.open('GET', this.options.templateUrl, true);\n\t\t\treq.onload = function () {\n\t\t\t\tif (req.status >= 200 && req.status < 400) {\n\t\t\t\t\t// TODO: Get template (& logic) from file\n\t\t\t\t\tself.template = document.createElement(self.options.tag);\n\t\t\t\t\tself.template.innerHTML = req.responseText;\n\t\t\t\t} else {\n\t\t\t\t\tself.app.log('error', \"Unable to load template file:\", self.options.templateUrl);\n\t\t\t\t}\n\t\t\t};\n\t\t\treq.send();\n\t\t} else {\n\t\t\tthis.template = document.createElement(this.options.tag);\n\t\t\tthis.template.innerHTML = this.options.template;\n\t\t}\n\t};\n\n\t// Panel Events\n\t// Open\n\tPanel.prototype.onOpen = function () {\n\t\t// Ensure we have a template\n\t\tif (typeof this.template === \"undefined\")\n\t\t\tthis._storeTemplate();\n\n\t\tif (this.template) {\n\t\t\tvar parent = this.options.parentEl ? this.options.parentEl : this.app.options.baseEl;\n\n\t\t\tif (this.options.append) {\n\t\t\t\tparent.innerHTML += this.template.innerHTML;\n\t\t\t} else if (this.options.appendChild) {\n\t\t\t\tif (parent.getElementsByTagName('panel-output')) {\n\t\t\t\t\tparent.getElementsByTagName('panel-output')[0].appendChild(this.template);\n\t\t\t\t} else {\n\t\t\t\t\tparent.appendChild(this.template);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// TODO: Store currently open panel (allow for multiple levels (based off route) -1 means ignore (i.e. modals))\n\t\t\t\t// this.app.panels[currentLevel].close(); // Loop through children and close them first\n\t\t\t\tparent.innerHTML = this.template.innerHTML;\n\t\t\t}\n\n\t\t\tif (typeof this.logic.onOpen === \"function\")\n\t\t\t\tthis.logic.onOpen();\n\t\t}\n\t};\n\n\t// Close\n\tPanel.prototype.onClose = function () {\n\t\tif (typeof this.logic.onClose === \"function\")\n\t\t\tthis.logic.onClose();\n\t};\n\n\t// Panel Controls\n\tPanel.prototype.open = function () {\n\t\tthis.onOpen();\n\t};\n\n\tPanel.prototype.close = function () {\n\t\tthis.onClose();\n\t};\n\n\t// Add to Panels\n\tPanels.prototype.Panel = Panel;\n\n\t// Export\n\twindow.Panels = Panels;\n\n})(window);"],"sourceRoot":"/source/"}